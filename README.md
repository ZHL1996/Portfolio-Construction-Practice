# Portfolio-Construction-Practice
p1: Web Scraping Data -> MoM strategy

  1.1 I used what wikipedia said the component stocks of SP500 through the website:https://en.wikipedia.org/wiki/List_of_S%26P_500_companies,and return the name ticker name of the 503 stocks
  
  1.2 With the ticker names obtained at 1.1, I download the stock data via Yahoo Finance API through Python, the data downloaded was mainly the closing price from 01.01,2019 to 30.12.2019. 4 stocks closing prices were missing at the given period:CARR; CEG; OGN; OTIS as their closing price was not available that time time.
  
  1.3 Load all downloaded data into one single pd.dataframe like:
  
  <img width="1028" alt="image" src="https://user-images.githubusercontent.com/105639985/198839263-020812a4-7e43-4370-bcb9-c6a53d8a4c16.png">
  
  1.4 Transferred all prices data into rate of return like:
  
  <img width="1022" alt="image" src="https://user-images.githubusercontent.com/105639985/198839369-945aae29-1079-4d03-a315-3b806c8c36b5.png">
  
  1.5 Set the MoM factor as 3, if the return rate is positive or in other words, price goes up in three consecutive days, build long position, if stock price goes down in three consecutive days, build short position. Take an example of long portfolio in each day, following displays the ticker names in the long position on that days with the MoM-3days strategy.
  
  <img width="995" alt="image" src="https://user-images.githubusercontent.com/105639985/198839852-5982b5eb-71a0-49a9-820f-4d4d9036ecb4.png">
  
  1.6 With the ticker names given by step 1.5, take the return of return for all tickers on each day and do the average calculation for return rates in each day, there is a list of return generated by MoM-3ADYS strategy. 
  
  <img width="235" alt="image" src="https://user-images.githubusercontent.com/105639985/198840058-ad0824f0-f787-494c-95ff-7bc1d01fa304.png">
  
  And a short portfolio
  
  <img width="438" alt="image" src="https://user-images.githubusercontent.com/105639985/198840086-fb0c43c3-5701-46e4-90c4-07dfddd37c65.png">

  1.7 Show the result
  
  <img width="801" alt="image" src="https://user-images.githubusercontent.com/105639985/198840143-a41dcf08-a637-4ae6-b181-48f73a388b54.png">
  <img width="279" alt="image" src="https://user-images.githubusercontent.com/105639985/198840182-ca359c03-4cb0-455e-9734-02083ff919fb.png">

  1.8 Conclusion: seems the result not very attractive but we could make it looks better through resetting the params
  

p2: Autoregression Model set up at 5% significance level -> Portfolio construction in the sample(8 months) -> Portfolio Testing out of Sample(4 months)

  2.1 With the return rates information from P1, build AR models for each stock at the first 200 days. Set AR coefficients in the range of(1.9). Selected only the coefficients and tickers that are significant at 5% significance level. Most of stocks out of the universe(SP500) are not significant in AR model as P value larger that 5% with the lags specificed, I mean in the range of (1,9). Following displays the significant lags and their coefficients.
  
  <img width="496" alt="image" src="https://user-images.githubusercontent.com/105639985/198840498-61b95507-1374-4cee-b3a8-64f2e9f7aee2.png">

  2.2 Considering the significant lags given in the step 2.1, together with the information of returns, we have a long or short decision. For example, for the ticker NVR, the AR is significant with the lag of 4 and the coefficient is -0.17, so if last three days the return is positive, we short tomorrow, otherwise we long. For the ticker 'FLT', the AR is significant at the lags of [2,5], the coefficients are [-0.14,-0.22] respectively, so if yesterday and last 4 days the return is positive, we short tomorrow, as the decision is [-1,-1]. If yesterday is positive while the last 4 days return is negative, we do noting, as the signal is not clear,[1,-1]. Following the decision dataframe:
  
  <img width="993" alt="image" src="https://user-images.githubusercontent.com/105639985/198840763-203c71f2-9da3-4b56-974a-9188cf27e397.png">
  
  if there are [1,1], we long, if there are [-1,-1] we short, if there are [1,-1], we do nothing at that day.

  2.3 We have the return metrix given by the AR model.
  
 <img width="1006" alt="image" src="https://user-images.githubusercontent.com/105639985/198840840-fe5052f2-a620-4b25-ba7e-9846fa2f7c97.png">
 
 do the average calculation for each day we have the return of the portfolio:
 
 <img width="263" alt="image" src="https://user-images.githubusercontent.com/105639985/198840884-ff5e0440-dd8f-4794-bd7a-89ce31ee9d7e.png">

  2.4 Comparing the result with the equal weights portfolio.
  
  <img width="372" alt="image" src="https://user-images.githubusercontent.com/105639985/198840918-07cc04d9-f2d3-4e2f-9be6-a02f7c756d08.png">

  2.5 Conslucion: the result is not very promising as whay EW achieved. But we could try to change the parameters inner the model

